document.addEventListener("DOMContentLoaded",()=>{console.log("Document loaded");const e=document.querySelector(".burger"),t=document.querySelector(".nav-links");e&&t?e.addEventListener("click",function(){t.classList.toggle("nav-active"),this.classList.toggle("toggle"),document.querySelectorAll(".nav-links li").forEach((e,t)=>{e.style.animation?e.style.animation="":e.style.animation=`navLinkFade 0.5s ease forwards ${t/7+.3}s`})}):console.error("Burger or nav-links element not found!");const n=document.querySelector("nav");n&&(n.classList.remove("scrolled"),window.addEventListener("scroll",()=>{window.scrollY>50?n.classList.add("scrolled"):n.classList.remove("scrolled")})),window.addEventListener("load",()=>{document.body.classList.add("loaded")}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(n){n.preventDefault();const o=document.querySelector(this.getAttribute("href"));o&&(window.scrollTo({top:o.offsetTop-70,behavior:"smooth"}),t&&t.classList.contains("nav-active")&&(t.classList.remove("nav-active"),e.classList.remove("toggle"),document.querySelectorAll(".nav-links li").forEach(e=>{e.style.animation=""})))})});const o=document.querySelector("#contactForm");o&&o.addEventListener("submit",e=>{e.preventDefault();const t=localStorage.getItem("language")||"en";let n="Thank you for your message! In a real website, this would be sent to our server.";window.translations&&window.translations[t]&&window.translations[t].formSubmitted&&(n=window.translations[t].formSubmitted),alert(n),o.reset()}),createScrollToTopButton();const i=document.querySelector(".cta-button");i&&i.addEventListener("click",()=>{const e=document.querySelector("#services");e&&window.scrollTo({top:e.offsetTop-70,behavior:"smooth"})}),initHeroSlideshow(),initThemeToggle(),initLanguageSelector(),initEquipmentFilter(),enhancePortfolio(),addFavicon(),translateDynamicContent()});function addFavicon(){document.querySelector('link[rel="icon"]')||(e=document.createElement("link"),e.rel="icon",e.href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="0.9em" font-size="90">üè≠</text></svg>',document.head.appendChild(e))}function createScrollToTopButton(){if(document.querySelector(".scroll-top-btn"))return;const e=document.createElement("button");e.innerHTML='<i class="fas fa-arrow-up"></i>',e.className="scroll-top-btn",document.body.appendChild(e),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),window.addEventListener("scroll",()=>{window.pageYOffset>300?e.style.display="block":e.style.display="none"})}function initHeroSlideshow(){const e=document.querySelectorAll(".hero .slide"),t=document.querySelectorAll(".nav-dot");if(!e.length)return;let n=0,o=setInterval(()=>{n=(n+1)%e.length,e.forEach(e=>e.classList.remove("active")),t.forEach(e=>e.classList.remove("active")),e[n].classList.add("active"),t[n].classList.add("active")},5e3);t.forEach((t,o)=>{t.addEventListener("click",()=>{clearInterval(o),e.forEach(e=>e.classList.remove("active")),t.forEach(e=>e.classList.remove("active")),e[o].classList.add("active"),t[o].classList.add("active"),o=setInterval(()=>{n=(n+1)%e.length,e.forEach(e=>e.classList.remove("active")),t.forEach(e=>e.classList.remove("active")),e[n].classList.add("active"),t[n].classList.add("active")},5e3)})})}function initThemeToggle(){const e=document.querySelector(".theme-toggle"),t=document.getElementById("theme-toggle-icon");if(!e||!t)return void console.error("Theme toggle elements not found");const n=localStorage.getItem("theme")||"light";"dark"===n?(document.body.classList.add("dark-mode"),t.className="fas fa-sun"):(document.body.classList.remove("dark-mode"),t.className="fas fa-moon"),e.addEventListener("click",()=>{const e=document.body.classList.toggle("dark-mode");t.className=e?"fas fa-sun":"fas fa-moon",localStorage.setItem("theme",e?"dark":"light"),window.location.reload()})}function initLanguageSelector(){const e=document.querySelector(".select-selected"),t=document.querySelector(".select-items"),n=document.querySelectorAll(".select-item");if(!e||!t||!n.length)return void console.error("Language selector elements not found");const o=localStorage.getItem("language")||"en";n.forEach(t=>{t.getAttribute("data-value")===o?(e.querySelector(".lang-label").textContent=t.textContent,t.classList.add("selected")):t.classList.remove("selected")}),window.updatePageLanguage?.(o),e.addEventListener("click",e=>{e.stopPropagation(),t.classList.toggle("select-show"),e.classList.toggle("active")}),n.forEach(n=>{n.addEventListener("click",()=>{const o=n.getAttribute("data-value"),i=localStorage.getItem("language")||"en";if(o!==i){e.querySelector(".lang-label").textContent=n.textContent,n.classList.add("selected"),localStorage.setItem("language",o),t.classList.remove("select-show"),e.classList.remove("active"),window.location.reload()}else t.classList.remove("select-show"),e.classList.remove("active")})}),document.addEventListener("click",t=>{e.contains(t.target)||t.contains(t.target)||(t.classList.remove("select-show"),e.classList.remove("active"))})}function initEquipmentFilter(){const e=document.querySelectorAll(".equipment-tab"),t=document.querySelectorAll(".equipment-item");e.length&&t.length&&e.forEach(n=>{n.addEventListener("click",()=>{e.forEach(e=>e.classList.remove("active")),n.classList.add("active");const o=n.getAttribute("data-category");t.forEach(e=>{"all"===o||e.getAttribute("data-category")===o?e.style.display="block":e.style.display="none"})})})}function enhancePortfolio(){const e=document.querySelectorAll(".portfolio-item"),t={fdm:["3D Printed Mechanical Parts","Custom Prototype Assembly","Educational Model Kit","Industrial Component Replica"],sla:["High-Detail Figurine","Dental Model Prototype","Jewelry Design Sample","Complex Mechanical Assembly"],laser:["Decorative Panel Design","Custom Signage Solution","Architectural Model Component","Precision-Cut Product Parts"],cnc:["Machined Aluminum Component","Wood Carved Decorative Panel","Custom Fixture Assembly","Precision Manufacturing Sample"],uv:["UV Printed Acrylic Display","Glass Surface Customization","Wood Product Personalization","Electronic Enclosure Printing"]};e.forEach(e=>{const n=e.getAttribute("data-category");if(n&&t[n]){const o=[...document.querySelectorAll(`.portfolio-item[data-category="${n}"]`)].indexOf(e);o>=0&&o<t[n].length&&e.setAttribute("data-title",t[n][o])}})}function translateDynamicContent(){const e=localStorage.getItem("language")||"en";if("en"===e)return;if(!window.translations||!window.translations[e])return void console.warn(`Translations for ${e} not found for dynamic content`);const t=window.translations[e];document.querySelectorAll(".equipment-info h3").forEach(e=>{const n=`equipment_${e.textContent.trim().replace(/\s+/g,"_").toLowerCase()}`;t[n]&&(e.textContent=t[n])}),document.querySelectorAll(".equipment-specs").forEach(e=>{const n=`spec_${e.textContent.split(":")[0].trim().replace(/\s+/g,"_").toLowerCase()}`;t[n]&&(e.textContent=t[n]+(e.textContent.includes(":")?": "+e.textContent.split(":")[1].trim():""))}),document.querySelectorAll(".portfolio-item h3").forEach(e=>{const n=`portfolio_${e.textContent.replace(/[^a-zA-Z0-9]/g,"_").toLowerCase()}`;t[n]&&(e.textContent=t[n])})}
