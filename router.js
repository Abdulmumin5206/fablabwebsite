document.addEventListener("DOMContentLoaded",()=>{const e=window.location.pathname,t=["en","ru","uz"];let n="en";t.forEach(t=>{e.includes(`/${t}`)&&(n=t)}),localStorage.setItem("language",n),updateLanguageSelector(n),window.updatePageLanguage?.(n),document.querySelectorAll(".select-item").forEach(t=>{t.addEventListener("click",function(){const o=this.getAttribute("data-value");if(o!==n){const t=e.replace(`/${n}`,`/${o}`);window.location.href=e.includes(`/${n}`)?t:`/${o}${e}`}})})});function updateLanguageSelector(e){const t=document.querySelector(".select-selected"),n=document.querySelectorAll(".select-item");t&&n.length&&n.forEach(n=>{const o=n.getAttribute("data-value");if(o===e){const e=t.querySelector(".lang-label");e&&(e.textContent=n.textContent),n.classList.add("selected")}else n.classList.remove("selected")})}
